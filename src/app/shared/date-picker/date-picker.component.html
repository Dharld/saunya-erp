<div
  class="w-full  relative {{
    readOnly ? 'read-only' : ''
  }} flex flex-col group dp"
>
  <label
    [for]="name"
    class="text-neutral-400 text-body-xs mb-1 font-medium group-focus-within:text-primary-200 transition leading-3"
    >{{ label }}</label
  >
  <div
    class="h-[50px] bg-neutral-90 p-3 rounded-[4px] relative group-focus-within:border-primary-300 border border-neutral-100"
  >
    <input
      class="p-0 w-full h-full outline-none placeholder:text-neutral-200 text-body text-neutral-500 border-0 focus:ring-0 appearance-none"
      #in
      [type]="type"
      [name]="name"
      [id]="name"
      required
      (change)="onChange(in.value)"
      (input)="writeValue(in.value)"
      (focus)="showPicker = true"
      (blur)="onTouched()"
      [value]="value"
      [placeholder]="placeholder"
      autocomplete="off"
      [readonly]="readOnly"
    />

    <div class="absolute top-0 bottom-0 right-2 m-auto h-fit" *ngIf="pending">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        style="
          margin: auto;
          background: none;
          display: block;
          shape-rendering: auto;
          animation-play-state: running;
          animation-delay: 0s;
        "
        width="30px"
        height="30px"
        viewBox="0 0 100 100"
        preserveAspectRatio="xMidYMid"
      >
        <circle
          cx="50"
          cy="50"
          fill="none"
          stroke="#0065FF"
          stroke-width="10"
          r="35"
          stroke-dasharray="164.93361431346415 56.97787143782138"
          style="animation-play-state: running; animation-delay: 0s"
        >
          <animateTransform
            attributeName="transform"
            type="rotate"
            repeatCount="indefinite"
            dur="1s"
            values="0 50 50;360 50 50"
            keyTimes="0;1"
            style="animation-play-state: running; animation-delay: 0s"
          ></animateTransform>
        </circle>
      </svg>
    </div>
  </div>
  <div
    class="supportText text-body-xs text-neutral-100 mt-2"
    *ngIf="textSupport != ''"
  >
    {{ textSupport }}
  </div>
  <div
    class="datePicker h-fit w-[225px] bg-neutral-80 rounded-md overflow-hidden shadow absolute top-[75px] right-0 z-0 {{
      showPicker ? 'scale-100' : 'scale-0'
    }} transition"
  >
    <div class="datepicker__header bg-primary-400 text-white p-3">
      <div class="date__current-month flex items-center">
        <button class="arrow arrow__left" type="button">
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            (click)="previousMonth()"
          >
            <path
              d="M16.62 2.98995C16.13 2.49995 15.34 2.49995 14.85 2.98995L6.54001 11.3C6.44731 11.3925 6.37376 11.5024 6.32358 11.6233C6.2734 11.7443 6.24757 11.874 6.24757 12.005C6.24757 12.1359 6.2734 12.2656 6.32358 12.3866C6.37376 12.5076 6.44731 12.6174 6.54001 12.71L14.85 21.02C15.34 21.51 16.13 21.51 16.62 21.02C17.11 20.53 17.11 19.74 16.62 19.25L9.38001 12L16.63 4.74995C17.11 4.26995 17.11 3.46995 16.62 2.98995Z"
              fill="#fff"
            />
          </svg>
        </button>
        <span class="flex-1 text-center text-body">{{ monthHeader }}</span>
        <button class="arrow arrow__right" (click)="nextMonth()" type="button">
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            class="rotate-180"
          >
            <path
              d="M16.62 2.98995C16.13 2.49995 15.34 2.49995 14.85 2.98995L6.54001 11.3C6.44731 11.3925 6.37376 11.5024 6.32358 11.6233C6.2734 11.7443 6.24757 11.874 6.24757 12.005C6.24757 12.1359 6.2734 12.2656 6.32358 12.3866C6.37376 12.5076 6.44731 12.6174 6.54001 12.71L14.85 21.02C15.34 21.51 16.13 21.51 16.62 21.02C17.11 20.53 17.11 19.74 16.62 19.25L9.38001 12L16.63 4.74995C17.11 4.26995 17.11 3.46995 16.62 2.98995Z"
              fill="#fff"
            />
          </svg>
        </button>
      </div>
      <div
        class="date__weekdays flex justify-between text-body font-medium mt-3 text-center"
      >
        <span class="flex-1">mo</span>
        <span class="flex-1">tu</span>
        <span class="flex-1">we</span>
        <span class="flex-1">th</span>
        <span class="flex-1">fr</span>
        <span class="flex-1">sa</span>
        <span class="flex-1">su</span>
      </div>
    </div>
    <div
      class="datepicker__body p-3 flex flex-col gap-1 text-neutral-500"
      #datePickerBody
    ></div>
  </div>
</div>
